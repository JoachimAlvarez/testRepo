quote location: :keep do      
  # some dependencies
  import DevOpsCore.SlaveModule

  trackWord = "microsoft"

  DevOpsCore.InfluxDBHelper.setup("DevOps_Potato")
  IO.puts "Now tracking #{trackWord}"

  # configure twitter
  ExTwitter.configure([
      consumer_key: "raRjadh3Nf7dZ6drZpU1vEdOW",
      consumer_secret: "TcXrpGxd7fV4UyGHHoA1GhxkroVdnZh8SQIJqwmBvHXKElAjjd",
      access_token: "2215425488-baYyFV664sERou76oiPil3s4MAgblLIRkTLwQqP",
      access_token_secret: "rxDDOUmtgA9vU9UKQrxa2LsJQ1FNwKZ5x9MLNOsu1wjRc"
      ])

  pid = fn ->
    stream = ExTwitter.stream_filter(track: "trackWord")
    for tweet <- stream do
      IO.puts "found it"
    end
  end

  # stream = ExTwitter.stream_filter(track: trackWord) |>
  # Stream.map(fn(x) ->
     # return trackWord
    # DevOpsCore.InfluxDBHelper.execute("INSERT twitter_popularity,host=#{inspect node},topic=twitter2 value=1")
    # IO.puts "Gotten #{inspect trackWord}"
  #     IO.puts "found it"
  # end) |>
  # Enum.to_list()
end
